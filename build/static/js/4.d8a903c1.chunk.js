(this["webpackJsonpappstack-react"]=this["webpackJsonpappstack-react"]||[]).push([[4],{1056:function(e,t,n){"use strict";n.r(t);var a=n(73),r=n(19),c=n.n(r),o=n(40),i=n(18),s=n(1),u=n.n(s),l=n(876),d=n(888),f=n(898),p=n(877),m=n(887),b=n(14),h=n(953),g=n.n(h),j=n(955),x=n.n(j),y=n(956),w=n.n(y),E=(n(957),n(1060)),v=n(372),O=n(958),k=n(22),S=n(42),I=Object(b.connect)((function(e){return{search:Object(O.c)(e)}}))((function(e){return u.a.createElement(k.d,{key:Date.parse(new Date),enableReinitialize:!0,initialValues:{search:e.search?e.search:""},onSubmit:function(t){e.onSearch(t.search)}},u.a.createElement(k.c,null,u.a.createElement(p.a,{style:{alignItems:"center"}},u.a.createElement(m.a,{xs:"auto"},u.a.createElement(k.b,{bsSize:"lg",type:"text",name:"search",placeholder:"Search Injection Info",component:S.a})),u.a.createElement(m.a,{xs:"auto"},u.a.createElement(E.a,{addonType:"append",color:"primary"},u.a.createElement(v.a,{type:"submit"},"Search!"))),u.a.createElement(m.a,{xs:"auto"},u.a.createElement(E.a,{addonType:"append",color:"primary"},u.a.createElement(v.a,{type:"submit",color:"danger",onClick:function(){e.onSearch("")}},"Reset Search!"))))))})),F=n(1051),z=n(1052),D=n(1053),R=n(1054),A=n(10),T=n(47),N="/injections",P={getAll:function(e,t,n,a,r){null!==n&&void 0!==n&&null!==a&&void 0!==a||(n="id",a="asc");var c={page:e,size:t,sort:"".concat(n,",").concat(a),search:r};return T.a.get("".concat(N),{params:c})},create:function(e,t,n,a,r,c){var o={vaccineName:e,description:t,price:n,amount:a,expiryDate:r+" 00:00",manufacture:c};return console.log(o),T.a.post(N,o)},update:function(e,t,n,a,r,c,o){var i={vaccineName:t,description:n,price:a,amount:r,expiryDate:c+" 00:00",manufacture:o};return T.a.put("".concat(N,"/").concat(e),i)},getById:function(e){return T.a.get("".concat(N,"/").concat(e))},deleteById:function(e){return T.a.delete("".concat(N,"/").concat(e))}},B=function(e,t,n,a,r,c){return{type:A.a,payload:{injections:e,page:t,totalElement:n,sortField:a,sortType:r,search:c}}},C=n(897),L=function(e){return e.injection},J=Object(C.a)(L,(function(e){return e.injections})),V=Object(C.a)(L,(function(e){return e.page})),M=Object(C.a)(L,(function(e){return e.size})),U=Object(C.a)(L,(function(e){return e.totalElement})),X=(Object(C.a)(L,(function(e){return e.search})),Object(C.a)(L,(function(e){return e.isLoading})),Object(C.a)(L,(function(e){return e.selectedRows}))),Y=Object(C.a)(L,(function(e){return e.sortField})),q=Object(C.a)(L,(function(e){return e.sortType})),G=function(e){return J(e)},H=function(e){return V(e)},K=function(e){return M(e)},Q=function(e){return U(e)},W=function(e){return X(e)},Z=function(e){return Y(e)},$=function(e){return q(e)},_=n(927),ee=n(60);t.default=Object(b.connect)((function(e){return{injections:G(e),page:H(e),size:K(e),sortField:Z(e),sortType:$(e),totalElement:Q(e),selectedRows:W(e)}}),{getListInjectionsAction:function(e,t,n,a,r){return function(){var i=Object(o.a)(c.a.mark((function o(i){var s,u,l;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,P.getAll(e,t,n,a,r);case 3:s=c.sent,u=s.details.injections,l=s.details.injections.totalElement,i(B(u,e,l)),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),console.log(c.t0);case 12:case"end":return c.stop()}}),o,null,[[0,9]])})));return function(e){return i.apply(this,arguments)}}()},updateSelectedRowsAction:function(e){return{type:A.b,payload:e}}})((function(e){var t=function(e,t){ee.toastr.success(e,t,{timeOut:5e3,showCloseButton:!1,progressBar:!1,position:"top-right"})},n=function(e,t){ee.toastr.error(e,t,{timeOut:5e3,showCloseButton:!1,progressBar:!1,position:"top-right"})},r=e.getListInjectionsAction,b=e.size;Object(s.useEffect)((function(){r(1,b)}),[r,b]);var h=[{dataField:"id",text:"Id",sort:!0},{dataField:"user.username",text:"User Name",sort:!0},{dataField:"vaccine.name",text:"Name Vaccine",sort:!0},{dataField:"location",text:"Location",sort:!0},{dataField:"dateInjection",text:"Date Of Injection",sort:!0},{dataField:"status",text:"Status",sort:!0},{dataField:"actions",text:"Actions",align:function(){return"center"},headerStyle:function(){return{textAlign:"center",width:"90px"}},formatter:A}],j=Object(s.useState)(!1),y=Object(i.a)(j,2),E=(y[0],y[1]),v=Object(s.useState)(null),O=Object(i.a)(v,2),k=(O[0],O[1]),S=function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,P.getById(t);case 3:(n=e.sent).details.injection.expiryDate=n.details.injection.expiryDate.split(" ",1),console.log(n),k(n.details.injection);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(e,t,n){return u.a.createElement(u.a.Fragment,null,u.a.createElement(_.a,{className:"align-middle mr-2",size:18,onClick:function(){return S(t.id)}})," ",u.a.createElement(F.a,{className:"align-middle mr-2",size:18,onClick:function(){return T(t.id)}}))},T=function(){var e=Object(o.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Do you want to delete this ?")){e.next=18;break}if(null!==a&&void 0!==a){e.next=6;break}n("Delete Injection","Sorry, Cann't Delete"),e.next=18;break;case 6:return e.prev=6,e.next=9,P.deleteById(a);case 9:t("Delete Injection","Delete Injection Successfully!"),J(),J(),J(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),n("Delete Injection",e.t0.data.message);case 18:J();case 19:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var a=Object(o.a)(c.a.mark((function a(){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!window.confirm("Do you want to delete all selected rows ?")){a.next=12;break}if(null!==e.selectedRows&&void 0!==e.selectedRows&&0!==e.selectedRows.length){a.next=6;break}n("Delete Injection","You have not selected the Injection!"),a.next=12;break;case 6:return a.next=8,e.selectedRows.forEach((function(e){P.deleteById(e),console.log("X\xf3a ph\u1ea7n t\u1eed th\u1ee9 "+e)}));case 8:t("Delete Injection","Delete Injection Successfully!"),J(),J(),J();case 12:J();case 13:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),B=function(t,n){var r=e.selectedRows;r=n?[].concat(Object(a.a)(r),[t.id]):r.filter((function(e){return e!==t.id})),console.log(r),e.updateSelectedRowsAction(r)},C=function(t,n){var a=n.map((function(e){return e.id})),r=[];t&&(r=a),e.updateSelectedRowsAction(r)},L=function(e,t){var n=t.page,a=t.sizePerPage,c=t.sortField,o=t.sortOrder,i=t.searchText;r(n,a,c,o,i)},J=function(){L(0,{page:1,sizePerPage:b,sortField:"id",sortOrder:"asc",searchText:""}),e.updateSelectedRowsAction([])};return u.a.createElement(l.a,{fluid:!0,className:"p-0"},u.a.createElement("h1",{className:"h3 mb-3"},"Injection Management"),u.a.createElement(d.a,null,u.a.createElement(f.a,null,u.a.createElement(w.a,{keyField:"id",data:e.injections,columns:h,search:!0},(function(t){return u.a.createElement(u.a.Fragment,null,u.a.createElement(p.a,{style:{alignItems:"flex-end"}},u.a.createElement(m.a,{xs:"9"},u.a.createElement(I,t.searchProps)),u.a.createElement(m.a,{xs:"3",style:{paddingBottom:20}},u.a.createElement("div",{className:"float-right pull-right"},u.a.createElement(z.a,{className:"align-middle mr-3",color:"black",size:25,onClick:J}),u.a.createElement(D.a,{className:"align-middle mr-3",color:"black",size:25,onClick:function(){return E(!0)}}),u.a.createElement(R.a,{className:"align-middle mr-3",color:"black",size:25,onClick:N})))),u.a.createElement(g.a,Object.assign({},t.baseProps,{bootstrap4:!0,striped:!0,hover:!0,bordered:!0,remote:!0,sort:{dataField:e.sortField,order:e.sortType},pagination:x()({page:e.page,totalSize:e.totalElement,sizePerPage:e.size,nextPageText:">",prePageText:"<",withFirstAndLast:!0,alwaysShowAllBtns:!0,hideSizePerPage:!0}),selectRow:{mode:"checkbox",clickToSelect:!0,selected:e.selectedRows,onSelect:B,onSelectAll:C},onTableChange:L})))})))))}))},958:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"h",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return j})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return y}));var a=n(897),r=function(e){return e.vaccine},c=Object(a.a)(r,(function(e){return e.vaccines})),o=Object(a.a)(r,(function(e){return e.page})),i=Object(a.a)(r,(function(e){return e.size})),s=Object(a.a)(r,(function(e){return e.totalElement})),u=Object(a.a)(r,(function(e){return e.search})),l=Object(a.a)(r,(function(e){return e.selectedRows})),d=Object(a.a)(r,(function(e){return e.sortField})),f=Object(a.a)(r,(function(e){return e.sortType})),p=function(e){return c(e)},m=function(e){return o(e)},b=function(e){return i(e)},h=function(e){return s(e)},g=function(e){return u(e)},j=function(e){return l(e)},x=function(e){return d(e)},y=function(e){return f(e)}}}]);
//# sourceMappingURL=4.d8a903c1.chunk.js.map